{
    "swagger": "2.0",
    "info": {
        "version": "1.0.0",
        "title": "Haute Cuisine Documentation",
        "description": "APIs that manage the main functionalities for the haute cuisine web application"
    },
    "host": "localhost:8080/api/v1",
    "schemes": [
        "http",
        "https"
    ],
    "definitions": {
        "user model": {
            "type": "object",
            "properties": {
                "firstName": {
                    "type": "string"
                },
                "otherNames": {
                    "type": "string"
                },
                "msisdn": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                },
                "countryCode": {
                    "type": "string"
                },
                "isoCode": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "gender": {
                    "type": "string"
                },
                "invalidLoginAttemps": {
                    "type": "number"
                },
                "lockCoeff": {
                    "type": "number"
                },
                "lockPeriod": {
                    "type": "string"
                },
                "userLockStatus": {
                    "type": "boolean"
                },
                "activated": {
                    "type": "boolean"
                },
                "isOtpConfirmed": {
                    "type": "boolean"
                },
                "version": {
                    "type": "number"
                }
            }
        },
        "registerDTO": {
           "type": "object",
           "properties": {
                "firstName": {
                    "type": "string"
                },
                "otherNames": {
                    "type": "string"
                },
                "msisdn": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                },
                "confirmPassword": {
                    "type": "string"
                }, 
                "countryCode": {
                    "type": "string"
                },
                "isoCode": {
                    "type": "string"
                }
           }
        },
        "confirmOTPDTO": {
            "type": "object",
            "properties": {
                 "msisdn": {
                     "type": "string"
                 },
                 "code": {
                     "type": "string"
                 },
                 "countryCode": {
                     "type": "string"
                 }
            }
         },
         "loginDTO": {
            "type": "object",
            "properties": {
                 "msisdn": {
                     "type": "string"
                 },
                 "code": {
                     "type": "string"
                 },
                 "password": {
                     "type": "string"
                 }
            }
         },
         "resendDTO": {
            "type": "object",
            "properties": {
                 "msisdn": {
                     "type": "string"
                 },
                 "countryCode": {
                     "type": "string"
                 }
            }
         },
        "success response": {
            "type": "object",
            "properties": {
                 "code": {
                     "type": "string"
                 },
                 "msg": {
                     "type": "string"
                 },
                 "data": {
                     "type": "object"
                 },
                 "token": {
                    "type": "string"
                },
                 "error": {
                     "type": "object",
                     "properties": {
                        "error": {
                            "type": "boolean"
                        },
                        "errMsg": {
                            "type": "string"
                        },
                        "detailedError": {
                            "type": "object"
                        }
                     }
                 }
            }
         },
         "error response": {
            "type": "object",
            "properties": {
                 "code": {
                     "type": "string"
                 },
                 "msg": {
                     "type": "string"
                 },
                 "data": {
                     "type": "null"
                 },
                 "error": {
                     "type": "object",
                     "properties": {
                        "error": {
                            "type": "boolean"
                        },
                        "errMsg": {
                            "type": "string"
                        },
                        "detailedError": {
                            "type": "object"
                        }
                     }
                 }
            }
         }
    },
    "tags": [
        {
            "name": "user",
            "description": "This contains all functionalities for user"
        },
        {
            "name": "recipe",
            "description": "This contains all functionalities for recipies"
        }
    ],
    "paths": {
        "/users/login":{
            "post": {
                "tags": [
                    "user"
                ],
                "summary": "route for users to login into haute cuisine",
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "description": "the user has to log in using this route",
                        "schema": {
                            "$ref": "#/definitions/loginDTO"
                        }
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Ok",
                        "schema":{
                            "$ref": "#/definitions/success response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema":{
                            "$ref": "#/definitions/error response"
                        }
                    }
                },
                "operationId": "loginUser"
            }
        },
        "/users/register":{
            "post": {
                "tags": [
                    "user"
                ],
                "summary": "route for users to sign up onto haute cuisine",
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "description": "the account we want to create for a user",
                        "schema": {
                            "$ref": "#/definitions/registerDTO"
                        }
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Ok",
                        "schema":{
                            "$ref": "#/definitions/success response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema":{
                            "$ref": "#/definitions/error response"
                        }
                    }
                },
                "operationId": "addUser"
            }
        },
        "/users/confirm-otp":{
            "put": {
                "tags": [
                    "user"
                ],
                "summary": "route for users to confirm the otp",
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "description": "the user has to confirm the otp generated and sent",
                        "schema": {
                            "$ref": "#/definitions/confirmOTPDTO"
                        }
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Ok",
                        "schema":{
                            "$ref": "#/definitions/success response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema":{
                            "$ref": "#/definitions/error response"
                        }
                    }
                },
                "operationId": "confirmOTP"
            }
        },
        "/users/reset":{
            "put": {
                "tags": [
                    "user"
                ],
                "summary": "route for users to reset their password",
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "description": "the user is able to reset their password when necessary",
                        "schema": {
                            "$ref": "#/definitions/confirmOTPDTO"
                        }
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Ok",
                        "schema":{
                            "$ref": "#/definitions/success response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema":{
                            "$ref": "#/definitions/error response"
                        }
                    }
                },
                "operationId": "resetAccount"
            }
        },
        "/users/":{
            "get": {
                "tags": [
                    "user"
                ],
                "summary": "route to get a user",
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "description": "the route to get a user"
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Ok",
                        "schema":{
                            "$ref": "#/definitions/success response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema":{
                            "$ref": "#/definitions/error response"
                        }
                    }
                },
                "operationId": "getUserDetails"
            }
        },
        "/users/resend":{
            "get": {
                "tags": [
                    "user"
                ],
                "summary": "route for users to resend OTP (One Time Password)",
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "description": "the user has to confirm the otp generated and sent",
                        "schema": {
                            "$ref": "#/definitions/resendDTO"
                        }
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Ok",
                        "schema":{
                            "$ref": "#/definitions/success response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema":{
                            "$ref": "#/definitions/error response"
                        }
                    }
                },
                "operationId": "resendOTP"
            }
        },
        "/users/logout":{
            "delete": {
                "tags": [
                    "user"
                ],
                "summary": "route for users to logout",
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "description": "the user uses this endpoint to logout"
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Ok",
                        "schema":{
                            "$ref": "#/definitions/success response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema":{
                            "$ref": "#/definitions/error response"
                        }
                    }
                },
                "operationId": "logout"
            }
        }
    }
}